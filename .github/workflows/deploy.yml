name: üöÄ Deploy to Server via SSH

on:
  push:
    branches:
      - main # –¢—Ä–∏–≥–≥–µ—Ä –Ω–∞ –ø—É—à–∏ –≤ –≤–µ—Ç–∫—É main

jobs:
  deploy:
    name: Deploy to ostrivnoi.beget.tech
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Deploy over SSH
        uses: appleboy/ssh-action@v1.0.0
        with:
          host: ostrivnoi.beget.tech           # –¢–≤–æ–π –¥–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞
          username: ostrivnoi_ivan             # –¢–≤–æ–π SSH-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
          key: ${{ secrets.SSH_PRIVATE_KEY }}  # –°–µ–∫—Ä–µ—Ç —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –∫–ª—é—á–æ–º
          port: 22                             # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SSH-–ø–æ—Ä—Ç (–µ—Å–ª–∏ –Ω–∞ Beget —Ç–∞–∫)
          script: |
            cd /home/o/ostrivnoi/dev-navipoint.ru/public_html
            git pull origin main

